<!DOCTYPE html>
<html lang="{{ .Site.LanguageCode | default "es" }}">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{ if .IsHome }}{{ .Site.Title }}{{ else }}{{ .Title }} | {{ .Site.Title }}{{ end }}</title>
    <link rel="stylesheet" href="{{ "/css/style.css" | relURL }}">
    <meta name="description" content="Proyecto de acceso libre a textos clásicos en griego o latín y español, con notas críticas y herramientas de estudio.">
    <meta name="keywords" content="Corpus Abierto, Tucídides, Historia de la Guerra del Peloponeso, griego, traducción, notas críticas, textos clásicos, literatura, historia antigua, historiografía">
    <link rel="icon" type="image/png" href="{{ "favicon-96x96.png" | absURL }}" sizes="96x96">
    <link rel="icon" type="image/svg+xml" href="{{ "favicon.svg" | absURL }}">
    <link rel="shortcut icon" href="{{ "favicon.ico" | absURL }}">
    <link rel="apple-touch-icon" sizes="180x180" href="{{ "/icons/apple-touch-icon.png" | absURL }}">
    <link rel="manifest" href="{{ "site.webmanifest" | absURL }}">
       {{/* ... todo tu meta-contenido existente, como charset, viewport, title, etc. ... */}}
    <link rel="stylesheet" href="{{ "/css/style.css" | relURL }}">
    {{/* ... todos tus favicons y links de manifest ... */}}
    
    {{/* --- INICIO DEL CÓDIGO A AÑADIR --- */}}
    {{/*
      Este bloque permitirá a otras plantillas (como la del mapa)
      inyectar sus propios archivos CSS específicos aquí.
    */}}
    {{ block "styles" . }}{{ end }}
    {{/* --- FIN DEL CÓDIGO A AÑADIR --- */}}
</head>
<body>
    
    {{ partial "header.html" . }}

    <main>
        {{/* Aquí se renderizará el contenido de las páginas (index.html, single.html, etc.) */}}
        {{ block "main" . }}{{ end }}
    </main>

    {{ partial "footer.html" . }}

    {{/* --- SCRIPTS GLOBALES Y MODAL --- */}}
    {{/* Movimos el contenido del modal y los scripts a su propio parcial para mayor orden. */}}
    {{ partial "scripts.html" . }}

    {{/* --- SCRIPTS ESPECÍFICOS DE LA PÁGINA --- */}}
    {{/* Este bloque es excelente para cargar JS solo en las páginas que lo necesitan. */}}
    {{ block "scripts" . }}
      {{ with .Params.scripts }}
        {{ range . }}
          <script src="{{ . | relURL }}"></script>
        {{ end }}
      {{ end }}
    {{ end }}

</body>
</html>